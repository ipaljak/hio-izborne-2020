\subsection*{Zadatak Sadnice}
\textsf{Pripremili: Paula Vidas i Daniel Paleka}\\
\textsf{Potrebno znanje: ad-hoc, konstrukcije}\\

Broj vijenaca koji nastanu nakon reza jednak je broju presječenih komada špage
plus jedan. Ukupno ćemo koristiti $NM + N + M$ komada špage, a mogućih rezova
ima $N + M$. Svaku špagu siječe točno jedan mogući rez, pa uvijek postoji rez
koji siječe barem $\ceil{\frac{NM + N + M}{N + M}} = \ceil{\frac{NM}{N + M}} +
1$ komada špage. Pokazat ćemo da uvijek možemo postići taj odgovor.

Prva dva podzadatka su posebni slučajevi, čija ćemo (jedna od mogućih) rješenja
ilustrirati za $N = M = 6$, odnosno $N = 6, M = 12$:

\begin{verbbox}
o--o--o--o--o--o--o              o--o--o--o--o--o--o--o--o--o--o--o--o
|  |  |           |              |  |  |  |        |
o  o  o  o  o  o  o              o  o  o  o  o  o  o--o--o--o--o--o--o
         |  |  |  |                          |  |  |  |  |
o--o--o--o--o--o--o              o--o--o--o--o--o--o  o  o  o  o  o  o
|  |  |           |                                |        |  |  |  |
o  o  o  o  o  o  o              o--o--o--o--o--o--o--o--o--o--o--o--o
         |  |  |  |              |  |  |  |        |
o--o--o--o--o--o--o              o  o  o  o  o  o  o--o--o--o--o--o--o
|  |  |           |                          |  |  |  |  |
o  o  o  o  o  o  o              o--o--o--o--o--o--o  o  o  o  o  o  o
         |  |  |  |                                |        |  |  |  |
o--o--o--o--o--o--o              o--o--o--o--o--o--o--o--o--o--o--o--o
\end{verbbox}
\begin{figure}[H]
  \centering
  \theverbbox
\end{figure}

Lako je vidjeti kako ta rješenja generalizirati za bilo koji $N$, 
samo valja pripaziti kada $N$ nije djeljiv s dva, odnosno tri. 

Prije prelaska na rješenje za sve bodove, valja napomenuti nešto u vezi
parcijalnog bodovanja suboptimalnih rješenja.
Natjecatelji koji se nisu susreli s ovakvim 
načinom bodovanja mogu se uplašiti zadatka i misliti da je optimalno
rješenje jako teško i da je zadatak nestandardnog tipa,
kao na primjer IOI 2013 Art Class.
Međutim, motivacija za parcijalno bodovanje može biti drukčija.

Velik dio teoretske računalne znanosti bavi se algoritmima koji daju
suboptimalna rješenja koja su unutar nekog konstantnog ili većeg faktora
od optimalnog rješenja - tzv. $\varepsilon$-aproksimacijama. 
Zapravo, na konferencijama i na arXiv-u se sve rjeđe viđaju
algoritmi koji traže točno optimalno rješenje nekog kombinatornog problema.

Drugopotpisani autor smatra da bi se parcijalno bodovanje trebalo češće 
pojavljivati na natjecanjima, jer spor i točan algoritam ne mora nužno
biti vrijedniji od brzog i skoro točnog algoritma. (Naravno, pod uvjetom
da algoritam \textit{uvijek} producira rješenje blizu optimalnog.)

Na primjer, za oko $50$ bodova na ovom zadatku, dovoljno je bilo smisliti 
pravilnu raspodjelu špaga po retcima i stupcima koja čini stablo, te je
omjer najvećeg mogućeg broja prerezanih špaga u tom i u optimalnom rješenju
najviše oko $\frac{3}{2}$. Takvo
(lakše) rješenje ostavljamo čitatelju za vježbu, te predstavljamo samo
rješenje za sve bodove.

Prvo ćemo pokazati konstrukciju za parni $N$, na primjeru $N = 6, M = 17$.
Povežemo prvo sve sadnice u parnim redovima i sve sadnice u zadnjem stupcu:
\begin{verbbox}
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
                                                   |
o  o  o  o  o  o  o  o  o  o  o  o  o  o  o  o  o  o
                                                   |
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
                                                   |
o  o  o  o  o  o  o  o  o  o  o  o  o  o  o  o  o  o
                                                   |
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
                                                   |
o  o  o  o  o  o  o  o  o  o  o  o  o  o  o  o  o  o
                                                   |
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
\end{verbbox}
\begin{figure}[H]
  \centering
  \theverbbox
\end{figure}

Neka je $K = \ceil{\frac{NM}{N + M}}$. Promotrimo prvo
prvu ``prugu'', i sadnice u sredini. Prvih $K$ sadnica povežemo prema gore,
sljedećih $K$ prema dolje, a ostatak prema desno.

\begin{verbbox}
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
|  |  |  |  |                                      |
o  o  o  o  o  o  o  o  o  o  o--o--o--o--o--o--o--o
               |  |  |  |  |                       |
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
\end{verbbox}
\begin{figure}[H]
  \centering
  \theverbbox
\end{figure}

Zatim u sljedećoj pruzi radimo istu stvar, samo pomaknutu za $2K$. To jest,
počinjemo od sadnice $(3, 2K)$, a drugu koordinatu gledamo modulo $M$. Slično
nastavljamo dalje. Za promatrani primjer na kraju imamo:

\begin{verbbox}
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
|  |  |  |  |                                      |
o  o  o  o  o  o  o  o  o  o  o--o--o--o--o--o--o--o
               |  |  |  |  |                       |
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
                              |  |  |  |  |        |
o  o  o  o--o--o--o--o--o--o--o  o  o  o  o  o  o  o
|  |  |                                      |  |  |
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
         |  |  |  |  |                             |
o--o--o--o  o  o  o  o  o  o  o  o  o  o--o--o--o--o
                        |  |  |  |  |              |
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
\end{verbbox}
\begin{figure}[H]
  \centering
  \theverbbox
\end{figure}

Ako je $N$ neparan, onda u zadnjem retku srednjih $K$ sadnica ne povezujemo
prema dolje, nego prema desno. Za primjer $N = 7, M = 17$ dobivamo:

\begin{verbbox}
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
|  |  |  |  |                                      |
o  o  o  o  o  o  o  o  o  o  o--o--o--o--o--o--o--o
               |  |  |  |  |                       |
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
                              |  |  |  |  |        |
o  o  o  o--o--o--o--o--o--o--o  o  o  o  o  o  o  o
|  |  |                                      |  |  |
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
         |  |  |  |  |                             |
o--o--o--o  o  o  o  o  o  o  o  o  o  o--o--o--o--o
                        |  |  |  |  |              |
o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o--o
|                                      |  |  |  |  |
o  o--o--o--o--o--o--o--o--o--o--o--o--o  o  o  o  o
\end{verbbox}
\begin{figure}[H]
  \centering
  \theverbbox
\end{figure}

Dokažimo sada da smo postigli željeno ograničenje, odnosno da svaki rez siječe
najviše $K + 1$ špaga. Vodoravne špage smo rasporedili ravnomjerno, tj. za bilo
koja dva okomita reza, broj špaga koje sijeku razlikuje se za najviše jedan.
Ako je $2K \leq M$, svaki vodoravni rez siječe točno $K + 1$ špaga, pa svaki
okomiti rez može sijeći najviše $K + 1$ špaga (u suprotnom bi prosjek bio
prevelik). Inače je $2K = M + 1$. Vodoravni rezovi tada sijeku najviše $K + 1$
dužina, a okomiti najviše $\ceil{\frac{N}{2}} + 1 \leq K + 1$. 
Formalne dokaze ovih tvrdnji ostavljamo čitatelju za vježbu.
