%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem statement
\begin{statement}[
  problempoints=100,
  timelimit=1 sekunda,
  memorylimit=512 MiB,
]{Paint}

Vratimo se najprije 35 godina u prošlost, točnije u 1985.\ godinu. Ta je godina
po mnogočemu posebna, Nintendo na američko tržište plasira prvu NES igraču
konzolu, Richard Stallman objavljuje \textit{GNU Manifesto}, na svijet dolaze
nogometne ikone poput Cristiana Ronalda, Luke Modrića i Darija Jerteca, a
gospodin Malnar za jedanaesti rođendan dobiva \textit{Windows 1.0} -- prvo
izdanje popularnog operacijskog sustava uz pomoć kojeg će godinu dana kasnije
otkriti rekurziju. No, zasad se bavi proučavanjem alata za ispunu (popularne
\textit{kantice}) u programu \textit{MS Paint} te mu na pamet pada ovaj zadatak.

Prostor za crtanje u programu \textit{MS Paint} zamišljamo kao pravokutnu
matricu koja se sastoji od $R$ redaka i $S$ stupaca. Svako polje te matrice
predstavlja jedan piksel koji može biti obojen u neku od $10^5$ boja koje
korisnik ima raspolaganju. Kada kanticu napunjenu bojom $A$ primijenimo na
piksel na polju $(r, s)$ obojen bojom $B$, tada svi pikseli
\textit{istobojnog susjedstva} polja $(r, s)$ postaju obojeni bojom $A$.
Istobojno susjedstvo polja $(r, s)$ je skup polja do kojih je moguće doći
šetnjom u četiri smjera (gore, dolje, lijevo i desno) od polja $(r, s)$ ne
mijenjajući boju piksela na putu. Primijetite da je i samo polje $(r, s)$ dio
svog istobojnog susjedstva.

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{img/paint_skica.png}
\end{figure}


Zadana je početna slika u programu \textit{MS Paint} nad kojom je $Q$ puta
primijenjen alat za ispunu. Vaš je zadatak odrediti završno stanje slike.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Input
\subsection*{Ulazni podaci}
U prvom su retku prirodni brojevi $R$ i $S$ iz teksta zadatka.

U sljedećih je $R$ redaka po $S$ nenegativnih cijelih brojeva manjih od
$100\,000$ koji predstavljaju početnu sliku u programu \textit{MS Paint}.
Preciznije, $j$-ti broj $i$-tog retka slike predstavlja boju piksela na polju
$(i, j)$.

U sljedećem je retku prirodan broj $Q$ iz teksta zadatka.

U $i$-tom od sljedećih $Q$ redaka nalaze se brojevi $r_i$, $s_i$ i
$c_i$ $(1 \le r_i \le R, 1 \le s_i \le S, 0 \le c_i < 100\,000)$, koji
označavaju ($i$-tu) primjenu kantice napunjene bojom $c_i$ na polje $(r_i,
s_i)$.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Output
\subsection*{Izlazni podaci}
Ispišite završno stanje slike u istom formatu kakvim je početno stanje
zadano u ulazu.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Scoring
\subsection*{Bodovanje}
{\renewcommand{\arraystretch}{1.4}
  \setlength{\tabcolsep}{6pt}
  \begin{tabular}{ccl}
 Podzadatak & Broj bodova & Ograničenja \\ \midrule
  1 & 8 & $1 \le R \cdot S \le 10\,000$, $1 \le Q \le 10\,000$ \\
  2 & 9 & $R = 1$, $1 \le S \le 200\,000$, $1 \le Q \le 100\,000$ \\
  3 & 31 & \makecell[l] { $1 \le R \cdot S \le 200\,000$, $1 \le Q \le 100\,000$ \\
  Svaki piksel će u svakom trenutku biti obojen ili u boju $0$ ili u boju $1$.} \\
  4 & 52 & $1 \le R \cdot S \le 200\,000$, $1 \le Q \le 100\,000$
\end{tabular}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Examples
\subsection*{Probni primjeri}
\begin{tabularx}{\textwidth}{X'X'X}
\sampleinputs{test/paint.dummy.in.1}{test/paint.dummy.out.1} &
\sampleinputs{test/paint.dummy.in.2}{test/paint.dummy.out.2} &
\sampleinputs{test/paint.dummy.in.3}{test/paint.dummy.out.3}
\end{tabularx}

\textbf{Pojašnjenje prvog probnog primjera:} Slika iz teksta zadatka
odgovara prvom probnom primjeru. Pritom, bijela je boja označena brojem $0$,
crvena je boja označena brojem $1$, plava je boja označena brojem $2$, zelena
je boja označena brojem $3$, a žuta je boja označena brojem $4$.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% We're done
\end{statement}

%%% Local Variables:
%%% mode: latex
%%% mode: flyspell
%%% ispell-local-dictionary: "croatian"
%%% TeX-master: "../hio.tex"
%%% End:
